<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de alumnos</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="card" id="app">
        <div class="card-header">REGISTRO DE ALUMNO</div>
        <div class="card-body">
            <form id="frmAlumno" @reset.prevent="nuevoAlumno" v-on:submit.prevent="guardarAlumno">
                <div class="row p-1">
                    <div class="col-3 col-md-2">
                        <label for="txtCodigoAlumno">CODIGO:</label>
                    </div>
                    <div class="col-3 col-md-2">
                        <input required pattern="^[US|SM]{2}[IS|LI|LA]{2}[0-9]{6}$" 
                            title="Ingrese un codigo de alumno valido"
                                v-model="alumno.codigo"type="text" class="form-control" name="txtCodigoAlumno" id="txtCodigoAlumno">
                    </div>
                </div>
                <div class="row p-1">
                    <div class="col-3 col-md-2">
                        <label for="txtNombreAlumno">NOMBRE:</label>
                    </div>
                    <div class="col-3 col-md-2">
                        <input required pattern="[A-Za-zÑñáéíóú ]{3,75}"
                            v-model="alumno.nombre"type="text" class="form-control" name="txtNombreAlumno" id="txtNombreAlumno">
                    </div>
                </div>
                <div class="row p-1">
                    <div class="col-3 col-md-2">
                        <label for="txtNombreAlumno">GENERO:</label>
                    </div>
                    <div class="col-3 col-md-2">
                        <input required pattern="[MASCULINO-FEMENINO]"
                            v-model="alumno.genero"type="text" class="form-control" name="txtGeneroAlumno" id="txtGeneroAlumno">
                    </div>
                </div>
                <div class="row p-1">
                    <div class="col-3 col-md-2">
                        <label for="txtNombreAlumno">DUI:</label>
                    </div>
                    <div class="col-3 col-md-2">
                        <input required pattern="[0-9|-]{10}"
                            v-model="alumno.dui"type="text" class="form-control" name="txtDuiAlumno" id="txtDuiAlumno">
                    </div>
                </div>
                <div class="row p-1">
                    <div class="col-3 col-md-2">
                        <label for="txtNombreAlumno">EDAD:</label>
                    </div>
                    <div class="col-3 col-md-2">
                        <input required pattern="[0-9]{2}"
                            v-model="alumno.edad"type="text" class="form-control" name="txtEdadAlumno" id="txtEdadAlumno">
                    </div>
                </div>
                <div class="row p-1">
                    <div class="col-3 col-md-2">
                        <label for="txtNombreAlumno">TELEFONO:</label>
                    </div>
                    <div class="col-3 col-md-2">
                        <input required pattern="[0-9|-]{9}"
                            v-model="alumno.telefono"type="text" class="form-control" name="txtTelefonoAlumno" id="txtTelefonoAlumno">
                    </div>
                </div>
                <div class="row p-1">
                    <div class="col-3 col-md-4">
                        <input class="btn btn-primary" type="submit"
                            value="Guardar Datos">
                    </div>
                <div class="col-3 col-md-3">
                        <input class="btn btn-warning"type="reset" value="Nuevo">
                    </div>
                </div>
            </div>
            </form>
        </div>
    </div>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const { createApp } = Vue
  createApp({
    data() {
      return {
        alumnos:[],
       alumno:{
        id       :'',
        codigo   :'',
        nombre   :'',
        genero   :'',
        dui      :'',
        edad     :'',
        telefono :'',
       }
      }
    },
    methods:{
        guardarAlumno(){
            this.alumnos = JSON.parse(localStorage.getItem("alumno") || "[]" );
            this.alumnos.push( this.alumno );
            localStorage.setItem("alumno", JSON.stringify(this.alumnos) );
            this.nuevoAlumno();
        },
        nuevoAlumno(){
            this.alumno.id = '';
            this.alumno.codigo = '';
            this.alumno.nombre = '';
            this.alumno.genero ='';
            this.alumno.dui = '';
            this.alumno.edad ='';
            this.alumno.telefono ='';
        }
    }
}).mount('#app');
</script>
</body>
</html>
